webpackJsonp([1],{"0UbK":function(t,i){},"4QU8":function(t,i){},"75IG":function(t,i){},NHnr:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("7+uW"),e=s("XyMi");var n=function(t){s("0UbK")},l=Object(e.a)({name:"App"},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},[],!1,n,null,null).exports,c=s("/ocq"),o=s("Gu7T"),r=s.n(o),u=s("mvHQ"),d=s.n(u),p={props:{isshow:Boolean},data:function(){return{}}};var h=function(t){s("oihZ")},g=Object(e.a)(p,function(){var t=this.$createElement,i=this._self._c||t;return this.isshow?i("div",{staticClass:"dialog-wrap"},[this._m(0)]):this._e()},[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("p",[this._v("添加成功")])])}],!1,h,"data-v-55738a0d",null).exports,m={name:"discover",props:{song:Object},components:{Dialog:g},data:function(){return{data:[{}],showdata:[{}],typelist:[{title:"推荐"},{title:"全部"}],chosedlist:"推荐",musicsrc:"",opendialog:!1,noplayingnow:!1}},methods:{changelist:function(t){var i=t.currentTarget.firstElementChild.innerHTML;this.chosedlist=i.replace(/\s*/g,"")},getdata:function(){var t=this;this.axios.get("https://v1.itooi.cn/netease/songList?id=141998290&pageSize=20").then(function(i){var s=i.data.data.tracks;s.forEach(function(t){t.islike=!1}),localStorage.setItem("musicList",d()(s)),t.data=s}).catch(function(t){console.log(t)})},getshowdata:function(){var t=Math.floor(100*Math.random()),i=[];i=[].concat(r()(this.data)),this.showdata=i.splice(t,44),null==localStorage.getItem("playingmusic")&&localStorage.setItem("playingmusic",d()(""))},playmusic:function(t,i){if(this.noplayingnow);else{var s=void 0;if(""==JSON.parse(localStorage.getItem("playingmusic"))?this.$emit("getmusicSrc",t,i)||localStorage.setItem("tuijianlist",d()(this.showdata)):s=JSON.parse(localStorage.getItem("playingmusic")),null!=s&&s.id==t.id)return void console.log("play");this.$emit("getmusicSrc",t,i),localStorage.setItem("tuijianlist",d()(this.showdata))}},likemusic:function(t){var i=this;t.islike=!0;var s=JSON.parse(localStorage.getItem("musicList"));s.forEach(function(i){i.id==t.id&&(i.islike=!0)}),localStorage.setItem("musicList",d()(s)),this.opendialog=!0;var a=setTimeout(function(){i.opendialog=!1},500);0==this.opendialog&&clearInterval(a)},notlikemusic:function(t){t.islike=!1;var i=JSON.parse(localStorage.getItem("musicList"));i.forEach(function(i){i.id==t.id&&(i.islike=!1)}),localStorage.setItem("musicList",d()(i))},downmusic:function(){alert("没有资源")}},created:function(){this.getdata(),this.getshowdata()},watch:{chosedlist:function(t){"全部"==t?this.showdata=[].concat(r()(this.data)):"推荐"==t&&this.getshowdata()},song:function(){var t=this;this.noplayingnow=!0,setTimeout(function(){t.noplayingnow=!1},2e3)},opendialog:function(t){t&&setTimeout(function(){t=!1},4e3)},data:function(){this.data=this.data,this.getshowdata()}}};var f=function(t){s("O0pA")},v=Object(e.a)(m,function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"discover-wrap"},[a("header",[a("ul",{staticClass:"list-menu"},t._l(t.typelist,function(i){return a("li",{key:i.id,on:{click:function(i){t.changelist(i)}}},[a("p",{staticClass:"list-title",class:{listbackground:t.chosedlist==i.title}},[t._v(t._s(i.title))])])}),0)]),t._v(" "),a("section",["推荐"==t.chosedlist?a("ul",{staticClass:"tuijian-menu"},t._l(t.showdata,function(i){return a("li",{key:i.id,staticClass:"music-list"},[a("img",{attrs:{src:i.album.blurPicUrl,alt:"图片加载失败"},on:{click:function(s){t.playmusic(i,"tuijianlist")}}}),t._v(" "),a("p",{on:{click:function(s){t.playmusic(i,"tuijianlist")}}},[a("span",[t._v(t._s(i.name))]),t._v(" "),a("span",[t._v(t._s(i.singer))])])])}),0):"全部"==t.chosedlist?a("ul",{staticClass:"paihangbang-menu"},t._l(t.showdata,function(i,e){return a("li",{key:i.id,staticClass:"music-list"},[a("p",[a("span",{staticClass:"xuhao"},[t._v(t._s(e+1))]),t._v(" "),a("span",{staticClass:"name",on:{click:function(s){t.playmusic(i,"alllist")}}},[t._v(t._s(i.name))]),t._v(" "),a("span",{staticClass:"singer"},[t._v(t._s(i.singer))])]),t._v(" "),a("div",{staticClass:"userworking-wraps"},[i.islike?a("img",{staticClass:"like red",attrs:{src:s("PiZ4")},on:{click:function(s){t.notlikemusic(i)}}}):a("img",{staticClass:"like",attrs:{src:s("PUtR")},on:{click:function(s){t.likemusic(i)}}}),t._v(" "),a("span",{staticClass:"down",attrs:{download:""},on:{click:t.downmusic}},[t._v("下载")])])])}),0):t._e()]),t._v(" "),t.opendialog?a("Dialog",{attrs:{isshow:t.opendialog}}):t._e()],1)},[],!1,f,"data-v-422050dc",null).exports,y={name:"mymusic",props:{song:Object},data:function(){return{data:[],musicsrc:""}},methods:{getdata:function(){var t=[];JSON.parse(localStorage.getItem("musicList")).forEach(function(i){i.islike&&t.push(i)}),this.data=t,localStorage.setItem("likelist",d()(t)),localStorage.setItem("mytoplay",d()(t))},playmusic:function(t,i){var s=JSON.parse(localStorage.getItem("playingmusic"));null==s||s.id!=t.id?this.$emit("getmusicSrc",t,i):console.log("play")},notlikeanmore:function(t){var i=JSON.parse(localStorage.getItem("musicList"));if(confirm("确定取消收藏吗？")){i.forEach(function(i){i.id!=t.id||(i.islike=!1)});var s=JSON.parse(localStorage.getItem("likelist"));s.forEach(function(i){t.id!=i.id||s.splice(s.indexOf(i),1)}),this.$emit("getlistitemchange",t),localStorage.setItem("likelist",d()(s)),this.data.splice(this.data.indexOf(t),1),this.deletenextplaymusic(t),localStorage.setItem("musicList",d()(i))}},deletenextplaymusic:function(t){this.$emit("getdeletesong",t)}},created:function(){this.getdata()},watch:{data:function(t){this.data=t}}};var _=function(t){s("YH59")},w=Object(e.a)(y,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"mymusic-wrap"},[0!==t.data.length?s("section",{staticClass:"music-wrap"},[s("ul",t._l(t.data,function(i){return s("li",{key:i.id},[i.islike?s("div",[s("img",{attrs:{src:i.pic,alt:""},on:{click:function(s){t.playmusic(i)}}}),t._v(" "),s("p",{staticClass:"name",on:{click:function(s){t.playmusic(i)}}},[t._v("《"+t._s(i.name)+"》")]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(i.singer))]),t._v(" "),s("span",{staticClass:"play work",on:{click:function(s){t.playmusic(i,"likelist")}}},[t._v("播放")]),t._v(" "),s("span",{staticClass:"nolike work",on:{click:function(s){t.notlikeanmore(i)}}},[t._v("删除")])]):t._e()])}),0)]):s("section",{staticClass:"no-music-wrap"},[s("p",[t._v("嘤嘤嘤暂时没有收藏歌曲 快去欣赏吧！！~~")])])])},[],!1,_,"data-v-a3e50ac6",null).exports,k={props:{song:{},pageshow:String,playlist:String,deletesong:Object},data:function(){return{data:{},playsrc:"",isplay:!1,songprogress:null,playsong:{},ischange:!1,width:0,pausewidth:0,checkmusic:!1,songTime:1}},methods:{getplaylist:function(){"likelist"==this.playlist?this.data=JSON.parse(localStorage.getItem("likelist")):"alllist"==this.playlist?this.data=JSON.parse(localStorage.getItem("musicList")):"tuijianlist"==this.playlist&&(this.data=JSON.parse(localStorage.getItem("tuijianlist")))},playaudio:function(){if(JSON.parse(localStorage.getItem("playingmusic"))){var t=document.getElementById("audio");this.isplay=!0;this.song.id;t.play(),this.songTime=this.song.bMusic.playTime,this.setprogresswidth()}},pauseaudio:function(){var t=document.getElementById("audio");this.isplay=!1,t.pause()},playnext:function(){var t=this;1!=this.data.length&&this.data.forEach(function(i){if(i.id==t.playsong.id)return t.playsong.id==t.data[t.data.length-1].id?(t.playsong=t.data[0],t.playaudio(),void t.$emit("getmusicSrc",t.playsong,t.playlist)):(t.playsong=t.data.splice(t.data.indexOf(i)+1,1)[0],t.playaudio(),void t.$emit("getmusicSrc",t.playsong,t.playlist))})},playprep:function(){var t=this;1!=this.data.length&&this.data.forEach(function(i){if(i.id==t.playsong.id)return t.playsong=t.data.splice(t.data.indexOf(i)-1,1)[0],setTimeout(function(){t.playaudio()},300),void t.$emit("getmusicSrc",t.playsong,t.playlist)})},playmusic:function(t,i){this.$emit("getmusicSrc",t,i)},setprogresswidth:function(){var t=this,i=document.getElementById("audio"),s=setInterval(function(){t.width>=1?(clearInterval(s),t.playnext()):(t.width=i.currentTime/t.songTime*1e3,console.log(t.width))},100)}},computed:{getwidth:function(){var t=this.songTime/1e3,i=Math.floor(t/60);return i+":"+(t-60*i).toFixed(0)}},watch:{song:function(t){var i=this;this.width=0,this.playsong=this.song,this.songTime=this.song.bMusic.playTime,this.playsrc="https://v1.itooi.cn/netease/url?id="+this.song.id+"&quality=flac",setTimeout(function(){i.playaudio()},300),localStorage.setItem("playingmusic",d()(this.song)),this.getplaylist()},deletesong:function(t){t.id==this.song.id?this.playnext():this.getplaylist()}}};var S=function(t){s("qcvb")},C=Object(e.a)(k,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"play-wrap-page"},[t.song.album?s("div",{staticClass:"audio-wrap"},[s("audio",{attrs:{src:t.playsrc,id:"audio"}}),t._v(" "),s("img",{attrs:{src:t.song.album.picUrl,alt:""}}),t._v(" "),s("p",[s("span",{staticClass:"name"},[t._v(t._s(t.song.name))]),t._v(" "),s("span",{staticClass:"singer"},[t._v(t._s(t.song.singer))])]),t._v(" "),s("div",{staticClass:"work-wrap"},[t.checkmusic?s("span",{staticClass:"prep-song checksong"},[t._v("上一首")]):s("span",{staticClass:"prep-song checksong",on:{click:t.playprep}},[t._v("上一首")]),t._v(" "),t.isplay?s("button",{on:{click:t.pauseaudio}},[t._v("暂停")]):s("button",{on:{click:t.playaudio}},[t._v("播放")]),t._v(" "),t.checkmusic?s("span",{staticClass:"next-song checksong"},[t._v("下一首")]):s("span",{staticClass:"next-song checksong",on:{click:t.playnext}},[t._v("下一首")])]),t._v(" "),s("div",{staticClass:"line-wrap"},[s("div",{staticClass:"line-song",style:{width:100*t.width+"%"}}),t._v(" "),t.getwidth.search("N")?s("span",{staticClass:"timeshow"},[t._v(t._s(t.getwidth))]):t._e()])]):t._e()])},[],!1,S,"data-v-e6fedace",null).exports,b={props:{playlist:String,song:Object,listitemchange:Object},data:function(){return{musicList:[],ishiddenlist:!1}},methods:{playmusic:function(t,i){var s=JSON.parse(localStorage.getItem("playingmusic"));null==s||s.id!=t.id?this.$emit("getmusicSrc",t,i):console.log("play")},hiddenlist:function(t){this.$refs.listwrap.style.left="-22.5%",this.ishiddenlist=!this.ishiddenlist},displaylist:function(t){this.$refs.listwrap.style.left="5px",this.ishiddenlist=!this.ishiddenlist},getshowlist:function(){"alllist"==this.playlist?this.musicList=JSON.parse(localStorage.getItem("musicList")):"likelist"==this.playlist?(console.log("likelist"),this.musicList=JSON.parse(localStorage.getItem("likelist"))):"tuijianlist"==this.playlist&&(this.musicList=JSON.parse(localStorage.getItem("tuijianlist")))}},watch:{song:function(t){this.getshowlist()},listitemchange:function(){null==this.listitemchange||this.getshowlist()}}};var O=function(t){s("4QU8")},I={props:{song:{}},data:function(){return{lrcdata:{},lrctime:[],url:"",islrcshow:!1,movelong:0,ishiddenlist:!1,linum:0,addnum:0}},methods:{getlrc:function(){var t=this;this.axios.get("https://v1.itooi.cn/netease/lrc?id="+this.song.id).then(function(i){var s=[],a=[];i.data.split("[").forEach(function(t){s.push(t.slice(t.indexOf("]")+1)),a.push(t.slice(0,t.indexOf("]")))}),s.splice(0,1),s.forEach(function(t){return 1==t.length&&s.splice(s.indexOf(t),1),s}),t.lrcdata=s,t.lrctime=[],a.forEach(function(i){var s=60*parseFloat(i.slice(1,2))+parseFloat(i.slice(3,5));s&&t.lrctime.push(parseFloat(s.toFixed(2)))})}).catch(function(t){console.log(t)})},hiddenlist:function(t){t.target.parentElement.parentElement.style.right="-23.2%",this.ishiddenlist=!this.ishiddenlist},displaylist:function(t){t.target.parentElement.parentElement.style.right="5px",this.ishiddenlist=!this.ishiddenlist},lrcmove:function(){var t=this;setTimeout(function(){var i=document.getElementById("audio");t.lrctime.length<=t.lrcdata.length&&(t.addnum=Math.abs(t.lrctime.length-t.lrcdata.length));setInterval(function(){var s=i.currentTime/t.song.time;t.movelong=t.long*s-10,t.lrctime.forEach(function(s){s==Math.floor(parseFloat(i.currentTime))&&(t.linum=t.lrctime.indexOf(s)+t.addnum)})},250)},1e3)}},created:function(){this.lrcdata="加载中"},updated:function(){this.long=this.$refs.lrcpre.offsetHeight},watch:{song:function(){this.lrcdata={},this.addnum=0,this.movelong=0,this.percent=0,this.islrcshow=!1,this.getlrc(),this.islrcshow=!0,this.lrcmove()}}};var x=function(t){s("ZDpr")},E={name:"home",components:{Discover:v,Mymuisc:w,Audio:C,Playlist:Object(e.a)(b,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"listwrap",staticClass:"playlist-wrap"},[s("div",[t.ishiddenlist?s("button",{staticClass:"hidden-wrap-btn",on:{click:t.displaylist}},[t._v("显示")]):s("button",{staticClass:"hidden-wrap-btn",on:{click:t.hiddenlist}},[t._v("隐藏")]),t._v(" "),s("p",{staticClass:"play-title"},[t._v("歌曲列表")])]),t._v(" "),t.playlist?s("ul",t._l(t.musicList,function(i){return s("li",{key:i.id},[s("img",{attrs:{src:i.album.blurPicUrl,alt:""}}),t._v(" "),s("p",{staticClass:"name"},[t._v(t._s(i.name))]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(i.singer))]),t._v(" "),t.song.id==i.id||t.ishiddenlist?t.song.id==i.id?s("span",{staticClass:"play playing"},[t._v("播放中")]):t.ishiddenlist?s("span",{staticClass:"play playnamelist",on:{click:function(s){t.playmusic(i,t.playlist)}}},[t._v(t._s(i.name))]):t._e():s("span",{staticClass:"play",on:{click:function(s){t.playmusic(i,t.playlist)}}},[t._v("播放")])])}),0):s("div",[s("p",[t._v("暂无歌曲")])])])},[],!1,O,"data-v-b8b118f2",null).exports,Lrc:Object(e.a)(I,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"listwrap",staticClass:"lrc-wrap"},[s("audio",{attrs:{src:t.song.url,id:"audio"}}),t._v(" "),s("header",[s("p",{staticClass:"lrc-title"},[t._v("歌词展板")]),t._v(" "),t.ishiddenlist?s("button",{staticClass:"hidden-wrap-btn",on:{click:t.displaylist}},[t._v("显示")]):s("button",{staticClass:"hidden-wrap-btn",on:{click:t.hiddenlist}},[t._v("隐藏")]),t._v(" "),t.islrcshow?s("div",{staticClass:"lrc-show-list"},[s("div",{staticClass:"lrcbox"},[s("ul",{ref:"lrcpre",style:{top:220-t.movelong+"px"}},t._l(t.lrcdata,function(i,a){return s("li",{key:a,ref:{lrcshowli:a==t.linum},refInFor:!0,staticClass:"lrcshow",class:{btylrc:a==t.linum},attrs:{"data-set":a}},[s("p",[t._v(t._s(i))])])}),0)])]):s("div",[s("p",[t._v("暂无歌词")])])])])},[],!1,x,"data-v-ba2657ac",null).exports},data:function(){return{typelist:[{title:"发现音乐"},{title:"我的歌曲"}],pageshow:"发现音乐",musicsrc:{},playlist:"",coming:0,listitemchange:{},deletesong:{},checksong:!0}},methods:{changelist:function(t){var i=t.currentTarget.firstElementChild.innerHTML;this.pageshow=i},getmusicSrc:function(t,i){this.musicsrc=t,this.playlist=i},getlistitemchange:function(t){this.listitemchange=t},getdeletesong:function(t){this.deletesong=t}},watch:{}};var j=function(t){s("75IG")},$=Object(e.a)(E,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"home-page-wrap"},[s("header",[t._m(0),t._v(" "),s("ul",{staticClass:"list-menu"},t._l(t.typelist,function(i){return s("li",{key:i.id,class:{listbackground:t.pageshow==i.title},on:{click:function(i){t.changelist(i)}}},[s("p",{staticClass:"list-title"},[t._v(t._s(i.title))])])}),0)]),t._v(" "),"发现音乐"==t.pageshow?s("Discover",{attrs:{song:t.musicsrc},on:{getmusicSrc:t.getmusicSrc}}):"我的歌曲"==t.pageshow?s("Mymuisc",{attrs:{song:t.musicsrc},on:{getmusicSrc:t.getmusicSrc,getlistitemchange:t.getlistitemchange,getdeletesong:t.getdeletesong}}):t._e(),t._v(" "),s("Audio",{attrs:{song:t.musicsrc,playlist:t.playlist,deletesong:t.deletesong},on:{getmusicSrc:t.getmusicSrc}}),t._v(" "),s("Playlist",{attrs:{playlist:t.playlist,song:t.musicsrc,listitemchange:t.listitemchange},on:{getmusicSrc:t.getmusicSrc}}),t._v(" "),s("Lrc",{attrs:{song:t.musicsrc}})],1)},[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title-music"},[i("span",[this._v("坤坤云音乐")])])}],!1,j,"data-v-03902ebf",null).exports;a.a.use(c.a);var T=new c.a({routes:[{path:"/",name:"home",component:$}]}),L=s("mtWM"),N=s.n(L),J=s("Rf8U"),M=s.n(J);a.a.config.productionTip=!1,a.a.use(M.a,N.a),new a.a({el:"#app",router:T,components:{App:l},template:"<App/>"})},O0pA:function(t,i){},PUtR:function(t,i,s){t.exports=s.p+"static/img/unlike.32c747e.png"},PiZ4:function(t,i,s){t.exports=s.p+"static/img/like.058525f.png"},YH59:function(t,i){},ZDpr:function(t,i){},oihZ:function(t,i){},qcvb:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.fcd48469d44e4048bec8.js.map